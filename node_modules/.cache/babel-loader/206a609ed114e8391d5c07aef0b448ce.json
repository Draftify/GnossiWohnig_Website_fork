{"ast":null,"code":"var _jsxFileName = \"/Users/corneliascherrer/TecFox Projects/WebsiteVorlage/website-vorlage/src/Components/Form/Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { SendButton, ArrowRight, ButtonContent, Spinner } from \"./SendButton\";\nimport { callCloudFunctionWithAppCheck } from \"../../../firebaseProvider\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst sendingStatus = {\n  notSent: 0,\n  pending: 1,\n  sentWithSuccess: 2,\n  sentWithError: 3\n};\nconst Form = props => {\n  _s();\n  const [form, setform] = useState({\n    name: \"\",\n    contactPerson: \"\",\n    email: \"\",\n    message: \"\"\n  });\n  const [showError, setShowError] = useState(false);\n  const [formSendingStatus, setFormSendingStatus] = useState(sendingStatus.notSent);\n  const handleFormChange = (name, value) => {\n    setShowError(false);\n    setform({\n      ...form,\n      [name]: value\n    });\n  };\n  const handleSubmit = () => {\n    if (form.name === \"\" || form.contactPerson === \"\" || form.email === \"\" || form.message === \"\") {\n      setShowError(true);\n    } else {\n      setFormSendingStatus(sendingStatus.pending);\n      callCloudFunctionWithAppCheck(\"sendEmail\", form).then(_ => setFormSendingStatus(sendingStatus.sentWithSuccess)).catch(_ => setFormSendingStatus(sendingStatus.sentWithError));\n    }\n  };\n  const checkFieldError = prop => {\n    return showError && form[prop] === \"\";\n  };\n  const childrenWithProps = React.Children.map(props.children, child => {\n    if ( /*#__PURE__*/React.isValidElement(child)) {\n      const value = form[child.props.name];\n      return /*#__PURE__*/React.cloneElement(child, {\n        value: value,\n        setValue: handleFormChange,\n        showError: checkFieldError(child.props.name)\n      });\n    }\n    return child;\n  });\n  const getFormContent = () => {\n    switch (formSendingStatus) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [childrenWithProps, /*#__PURE__*/_jsxDEV(SendButton, {\n            onClick: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(ButtonContent, {\n              children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n      case 2:\n        return props.successMessage;\n      case 3:\n        return props.errorMessage;\n      default:\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [childrenWithProps, /*#__PURE__*/_jsxDEV(SendButton, {\n            onClick: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(ButtonContent, {\n              children: [props.sendButtonText, /*#__PURE__*/_jsxDEV(ArrowRight, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [props.title, getFormContent()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(Form, \"/+b7D/mzXWTs1vOq+yF7YR5S8wQ=\");\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","SendButton","ArrowRight","ButtonContent","Spinner","callCloudFunctionWithAppCheck","sendingStatus","notSent","pending","sentWithSuccess","sentWithError","Form","props","form","setform","name","contactPerson","email","message","showError","setShowError","formSendingStatus","setFormSendingStatus","handleFormChange","value","handleSubmit","then","_","catch","checkFieldError","prop","childrenWithProps","Children","map","children","child","isValidElement","cloneElement","setValue","getFormContent","successMessage","errorMessage","sendButtonText","title"],"sources":["/Users/corneliascherrer/TecFox Projects/WebsiteVorlage/website-vorlage/src/Components/Form/Form.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nimport { SendButton, ArrowRight, ButtonContent, Spinner } from \"./SendButton\";\nimport { callCloudFunctionWithAppCheck } from \"../../../firebaseProvider\";\n\nconst sendingStatus = {\n  notSent: 0,\n  pending: 1,\n  sentWithSuccess: 2,\n  sentWithError: 3,\n};\n\nconst Form = (props) => {\n  const [form, setform] = useState({\n    name: \"\",\n    contactPerson: \"\",\n    email: \"\",\n    message: \"\",\n  });\n  const [showError, setShowError] = useState(false);\n  const [formSendingStatus, setFormSendingStatus] = useState(\n    sendingStatus.notSent\n  );\n\n  const handleFormChange = (name, value) => {\n    setShowError(false);\n    setform({ ...form, [name]: value });\n  };\n\n  const handleSubmit = () => {\n    if (\n      form.name === \"\" ||\n      form.contactPerson === \"\" ||\n      form.email === \"\" ||\n      form.message === \"\"\n    ) {\n      setShowError(true);\n    } else {\n      setFormSendingStatus(sendingStatus.pending);\n      callCloudFunctionWithAppCheck(\"sendEmail\", form)\n        .then((_) => setFormSendingStatus(sendingStatus.sentWithSuccess))\n        .catch((_) => setFormSendingStatus(sendingStatus.sentWithError));\n    }\n  };\n\n  const checkFieldError = (prop) => {\n    return showError && form[prop] === \"\";\n  };\n\n  const childrenWithProps = React.Children.map(props.children, (child) => {\n    if (React.isValidElement(child)) {\n      const value = form[child.props.name];\n      return React.cloneElement(child, {\n        value: value,\n        setValue: handleFormChange,\n        showError: checkFieldError(child.props.name),\n      });\n    }\n    return child;\n  });\n\n  const getFormContent = () => {\n    switch (formSendingStatus) {\n      case 1:\n        return (\n          <>\n            {childrenWithProps}\n            <SendButton onClick={handleSubmit}>\n              <ButtonContent>\n                <Spinner />\n              </ButtonContent>\n            </SendButton>\n          </>\n        );\n      case 2:\n        return props.successMessage;\n      case 3:\n        return props.errorMessage;\n      default:\n        return (\n          <>\n            {childrenWithProps}\n            <SendButton onClick={handleSubmit}>\n              <ButtonContent>\n                {props.sendButtonText}\n                <ArrowRight />\n              </ButtonContent>\n            </SendButton>\n          </>\n        );\n    }\n  };\n\n  return (\n    <div>\n      {props.title}\n      {getFormContent()}\n    </div>\n  );\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}