{"ast":null,"code":"import firebaseConfig from \"./firebaseConfig\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\";\nimport \"firebase/compat/functions\";\nconst {\n  initializeAppCheck,\n  ReCaptchaV3Provider\n} = require(\"firebase/app-check\");\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\ninitializeAppCheck(firebaseApp, {\n  provider: new ReCaptchaV3Provider(\"6Len09IjAAAAAKS_yAqxGvtnLRE8mceBdHw-dzVG\"),\n  isTokenAutoRefreshEnabled: true\n});\nexport const storage = firebaseApp.storage().ref();\nexport const firebaseAppAuth = firebaseApp.auth();\nexport const firestore = firebaseApp.firestore();\nconst functions = firebaseApp.functions();\nexport const getDocument = (collection, id) => {\n  return firestore.collection(collection).doc(id).get().then(snapshot => {\n    return snapshot.data();\n  }).catch(err => console.log(err));\n};\nexport const setDocument = (collection, id, data) => {\n  return firestore.collection(collection).doc(id).set(data);\n};\nexport const updateDocument = (collection, id, data) => {\n  return firestore.collection(collection).doc(id).update(data);\n};\nexport const addToArrayInDocument = (collection, id, data) => {\n  return firestore.collection(collection).doc(id).update({\n    files: firebase.firestore.FieldValue.arrayUnion(data)\n  });\n};\nexport const deleteDocument = (collection, id) => {\n  return firestore.collection(collection).doc(id).delete();\n};\nexport const getCollection = collection => {\n  return firestore.collection(collection).get().then(snapshot => {\n    const rawData = snapshot.docs.map(doc => {\n      const docId = {\n        doc: doc.id\n      };\n      const docData = doc.data();\n      return {\n        ...docId,\n        ...docData\n      };\n    });\n    return rawData;\n  }).catch(err => console.log(err));\n};\nexport const setFile = async (collection, title, name, type, file) => {\n  const fileRef = storage.child(file.name);\n  await fileRef.put(file);\n  const fileUrl = await fileRef.getDownloadURL();\n  const data = {\n    title: title,\n    name: name,\n    type: type,\n    url: fileUrl,\n    timestamp: Date.now()\n  };\n  return setDocument(collection, name + file.name, data);\n};\nexport const callCloudFunctionWithAppCheck = (functionToCall, data) => {\n  return functions.httpsCallable(functionToCall)(data);\n};","map":{"version":3,"names":["firebaseConfig","firebase","initializeAppCheck","ReCaptchaV3Provider","require","firebaseApp","initializeApp","provider","isTokenAutoRefreshEnabled","storage","ref","firebaseAppAuth","auth","firestore","functions","getDocument","collection","id","doc","get","then","snapshot","data","catch","err","console","log","setDocument","set","updateDocument","update","addToArrayInDocument","files","FieldValue","arrayUnion","deleteDocument","delete","getCollection","rawData","docs","map","docId","docData","setFile","title","name","type","file","fileRef","child","put","fileUrl","getDownloadURL","url","timestamp","Date","now","callCloudFunctionWithAppCheck","functionToCall","httpsCallable"],"sources":["/Users/corneliascherrer/TecFox Projects/WebsiteVorlage/website-vorlage/src/firebaseProvider.js"],"sourcesContent":["import firebaseConfig from \"./firebaseConfig\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\";\nimport \"firebase/compat/functions\";\n\nconst {\n  initializeAppCheck,\n  ReCaptchaV3Provider,\n} = require(\"firebase/app-check\");\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\ninitializeAppCheck(firebaseApp, {\n  provider: new ReCaptchaV3Provider(\"6Len09IjAAAAAKS_yAqxGvtnLRE8mceBdHw-dzVG\"),\n  isTokenAutoRefreshEnabled: true,\n});\n\nexport const storage = firebaseApp.storage().ref();\nexport const firebaseAppAuth = firebaseApp.auth();\nexport const firestore = firebaseApp.firestore();\nconst functions = firebaseApp.functions();\n\nexport const getDocument = (collection, id) => {\n  return firestore\n    .collection(collection)\n    .doc(id)\n    .get()\n    .then((snapshot) => {\n      return snapshot.data();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const setDocument = (collection, id, data) => {\n  return firestore.collection(collection).doc(id).set(data);\n};\n\nexport const updateDocument = (collection, id, data) => {\n  return firestore.collection(collection).doc(id).update(data);\n};\n\nexport const addToArrayInDocument = (collection, id, data) => {\n  return firestore\n    .collection(collection)\n    .doc(id)\n    .update({ files: firebase.firestore.FieldValue.arrayUnion(data) });\n};\n\nexport const deleteDocument = (collection, id) => {\n  return firestore.collection(collection).doc(id).delete();\n};\n\nexport const getCollection = (collection) => {\n  return firestore\n    .collection(collection)\n    .get()\n    .then((snapshot) => {\n      const rawData = snapshot.docs.map((doc) => {\n        const docId = { doc: doc.id };\n        const docData = doc.data();\n        return { ...docId, ...docData };\n      });\n      return rawData;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const setFile = async (collection, title, name, type, file) => {\n  const fileRef = storage.child(file.name);\n  await fileRef.put(file);\n  const fileUrl = await fileRef.getDownloadURL();\n\n  const data = {\n    title: title,\n    name: name,\n    type: type,\n    url: fileUrl,\n    timestamp: Date.now(),\n  };\n\n  return setDocument(collection, name + file.name, data);\n};\n\nexport const callCloudFunctionWithAppCheck = (functionToCall, data) => {\n  return functions.httpsCallable(functionToCall)(data);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}